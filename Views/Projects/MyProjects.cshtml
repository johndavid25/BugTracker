@using BugTracker.Services.Interfaces

@model IEnumerable<BugTracker.Models.Project>

@inject IBTImageService imageService

@{
    ViewData["Title"] = "Index";
}


<p>
    <a asp-action="Create">Create New</a>
</p>

<div class="page-header d-md-flex justify-content-between">
    <div>
        <h3>My Projects</h3>
    </div>
</div>

<div class="row">
    <div class="col-md-12">

        <div class="row">
            <div class="col-lg-12 col-md-12">
                <div class="row">
                    @foreach (var item in Model.OrderBy(p =>p.Name))
                    {
                        <div class="col-md-6 col-xs-12">
                            <div class="card">
                                <div class="card-body">
                                    <div class="my-3">
                                        <a asp-action="Details" asp-route-id="@item.Id" title="@item.Name">
                                            <img src="@imageService.DecodeFile(item.ImageFileData, item.ImageFileName)"
                                                 class="img-fluid rounded" alt="@item.Name" />
                                        </a>
                                    </div>
                                    <div class="text-center">
                                        <a href="#">
                                            <h4>@item.Name</h4>
                                        </a>
                                        <p>
                                            <span class="text-truncate">@item.Company.Name</span>
                                        </p>
                                        <div class="mt-2">
                                            <a href="#" data-toggle="popover" data-trigger="focus hover" title=" @Html.DisplayFor(modelItem => item.Name)" data-content="@Html.DisplayFor(modelItem => item.Description)"><i class="ti-info-alt"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>

                @*<nav aria-label="..." class="mb-4">
                        <ul class="pagination pagination-rounded justify-content-center">
                            <li class="page-item disabled">
                                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                                    <i class="ti-angle-left"></i>
                                </a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item active" aria-current="page">
                                <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item">
                                <a class="page-link" href="#">
                                    <i class="ti-angle-right"></i>
                                </a>
                            </li>
                        </ul>
                    </nav>*@

            </div>
        </div>

    </div>
</div>
